<div *ngIf="!isLoading && requests.length > 0"
     class="flex flex-wrap gap-6 justify-start">

  <div *ngFor="let req of requests"
       [routerLink]="['/applicant/request', req.id]"
       class="card-request cursor-pointer shrink-0 w-full md:w-[calc(33.33%-1rem)] bg-[#0f172a] rounded-xl transition-all duration-300 group relative overflow-hidden flex flex-col min-h-[240px] shadow-lg">

    <div [class]="'absolute top-0 left-0 right-0 h-[2px] z-10 ' + getUrgencyBorder(req.urgency)"></div>

    <div class="p-6 flex flex-col h-full relative">

      <div class="mb-5">
        <span [class]="getUrgencyClass(req.urgency)"
              class="px-3 py-1 text-[10px] font-bold uppercase tracking-[0.2em] rounded flex items-center w-fit gap-2 bg-opacity-10">
          <span class="w-1 h-1 rounded-full bg-current"></span>
          {{ getUrgencyLabel(req.urgency) }}
        </span>
      </div>

      <h3 class="font-bold text-white text-lg mb-2 leading-tight group-hover:text-blue-400 transition-colors">
        {{ req.title }}
      </h3>

      <p class="text-sm text-slate-400 mb-6 line-clamp-2 font-light">
        {{ req.description }}
      </p>

      <div class="mt-auto">
        <div class="flex items-center gap-2 text-slate-500 text-[11px] mb-4">
           <svg class="w-4 h-4 opacity-60" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
             <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
           </svg>
           <span>1+ ofertas</span>
        </div>

        <div class="pt-4 border-t border-slate-800/50 flex items-center justify-between">
          <div class="flex items-center gap-2 text-[11px] text-slate-500 font-medium">
            <svg class="w-3.5 h-3.5 opacity-60" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
            {{ req.createdAt | date:'d MMM yyyy' }}
          </div>

          <span class="text-orange-500 text-xs font-bold flex items-center gap-1 group-hover:gap-2 transition-all">
            Ver ofertas <span class="text-sm">â†’</span>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
