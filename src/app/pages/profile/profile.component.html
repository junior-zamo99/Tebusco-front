<div class="min-h-screen bg-background py-8">
  <div class="container-custom max-w-6xl">
    <!-- Header con foto de perfil -->
    <div class="card mb-8">
      <div class="flex items-center gap-6">
        <!-- Avatar -->
        <div class="relative">
          <div
            *ngIf="user?.photoUrl"
            class="w-24 h-24 rounded-full bg-cover bg-center border-4 border-primary"

          ></div>
          <div
            *ngIf="!user?.photoUrl"
            class="w-24 h-24 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center border-4 border-primary"
          >
            <span class="text-3xl font-bold text-white">{{ getInitials() }}</span>
          </div>
          <button
            class="absolute bottom-0 right-0 w-8 h-8 bg-primary rounded-full flex items-center justify-center hover:bg-accent transition-colors shadow-lg"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
          </button>
        </div>

        <!-- Info -->
        <div class="flex-1">
          <h1 class="text-3xl font-bold text-text mb-1">
            {{ user?.name }} {{ user?.lastName }}
          </h1>
          <p class="text-text-light mb-2">{{ user?.email }}</p>
          <div class="flex items-center gap-4 text-sm">
            <span class="flex items-center gap-1 text-text-light">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              Último acceso: {{ formatDate(user?.lastLogin) }}
            </span>
            <span
              class="px-3 py-1 rounded-full text-xs font-semibold"
              [ngClass]="{
                'bg-success/20 text-success': user?.status === 'ACTIVE',
                'bg-warning/20 text-warning': user?.status === 'PENDING',
                'bg-danger/20 text-danger': user?.status === 'INACTIVE'
              }"
            >
              {{ user?.status }}
            </span>
            <span
              *ngIf="applicant?.isFrequentCustomer"
              class="px-3 py-1 rounded-full text-xs font-semibold bg-primary/20 text-primary flex items-center gap-1"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
              </svg>
              Cliente Frecuente
            </span>
          </div>
        </div>

        <!-- Actions -->
        <div class="flex flex-col gap-2">
          <button
            (click)="toggleEdit()"
            class="btn btn-primary"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
            {{ isEditing ? 'Guardar' : 'Editar Perfil' }}
          </button>
          <button
            (click)="onLogout()"
            class="btn btn-secondary text-danger hover:bg-danger/10"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
            </svg>
            Cerrar Sesión
          </button>
        </div>
      </div>
    </div>

    <!-- Tabs -->
    <div class="flex gap-2 mb-6 border-b border-border">
      <button
        (click)="setActiveTab('info')"
        class="px-6 py-3 font-semibold transition-colors relative"
        [ngClass]="{
          'text-primary border-b-2 border-primary': activeTab === 'info',
          'text-text-light hover:text-text': activeTab !== 'info'
        }"
      >
        <div class="flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
          Información Personal
        </div>
      </button>
      <button
        (click)="setActiveTab('addresses')"
        class="px-6 py-3 font-semibold transition-colors relative"
        [ngClass]="{
          'text-primary border-b-2 border-primary': activeTab === 'addresses',
          'text-text-light hover:text-text': activeTab !== 'addresses'
        }"
      >
        <div class="flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          Direcciones
        </div>
      </button>
      <button
        (click)="setActiveTab('security')"
        class="px-6 py-3 font-semibold transition-colors relative"
        [ngClass]="{
          'text-primary border-b-2 border-primary': activeTab === 'security',
          'text-text-light hover:text-text': activeTab !== 'security'
        }"
      >
        <div class="flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
          </svg>
          Seguridad
        </div>
      </button>
    </div>

    <!-- Tab Content -->
    <div class="animate-fadeIn">
      <!-- Información Personal -->
      <div *ngIf="activeTab === 'info'" class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="card">
          <h3 class="text-xl font-bold text-text mb-4 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
            Datos Personales
          </h3>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-text-light mb-1">Nombre</label>
              <input
                type="text"
                [(ngModel)]="editForm.name"
                [disabled]="!isEditing"
                class="input-field"
                [ngClass]="{'bg-card-bg-light': !isEditing}"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-text-light mb-1">Apellido</label>
              <input
                type="text"
                [(ngModel)]="editForm.lastName"
                [disabled]="!isEditing"
                class="input-field"
                [ngClass]="{'bg-card-bg-light': !isEditing}"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-text-light mb-1">Teléfono</label>
              <input
                type="tel"
                [(ngModel)]="editForm.phone"
                [disabled]="!isEditing"
                class="input-field"
                [ngClass]="{'bg-card-bg-light': !isEditing}"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-text-light mb-1">Correo Electrónico</label>
              <input
                type="email"
                [(ngModel)]="editForm.email"
                disabled
                class="input-field bg-card-bg-light cursor-not-allowed"
              />
              <p class="text-xs text-text-light mt-1">El email no puede ser modificado</p>
            </div>
          </div>
          <div *ngIf="isEditing" class="flex gap-3 mt-6">
            <button (click)="toggleEdit()" class="btn btn-primary flex-1">
              Guardar Cambios
            </button>
            <button (click)="cancelEdit()" class="btn btn-secondary flex-1">
              Cancelar
            </button>
          </div>
        </div>

        <div class="card">
          <h3 class="text-xl font-bold text-text mb-4 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2" />
            </svg>
            Información de Cuenta
          </h3>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-text-light mb-1">Cédula de Identidad</label>
              <input
                type="text"
                [value]="applicant?.ci"
                disabled
                class="input-field bg-card-bg-light cursor-not-allowed"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-text-light mb-1">ID de Usuario</label>
              <input
                type="text"
                [value]="user?.id"
                disabled
                class="input-field bg-card-bg-light cursor-not-allowed"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-text-light mb-1">Estado de la Cuenta</label>
              <input
                type="text"
                [value]="user?.status"
                disabled
                class="input-field bg-card-bg-light cursor-not-allowed"
              />
            </div>
            <div class="pt-4 border-t border-border">
              <div class="flex items-center justify-between">
                <span class="text-text-light">Cliente Frecuente</span>
                <span
                  class="px-3 py-1 rounded-full text-sm font-semibold"
                  [ngClass]="{
                    'bg-success/20 text-success': applicant?.isFrequentCustomer,
                    'bg-card-bg-light text-text-light': !applicant?.isFrequentCustomer
                  }"
                >
                  {{ applicant?.isFrequentCustomer ? 'Sí' : 'No' }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Direcciones -->
      <div *ngIf="activeTab === 'addresses'">
        <div class="flex items-center justify-between mb-6">
          <h3 class="text-xl font-bold text-text">Mis Direcciones</h3>
          <button class="btn btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
            Agregar Dirección
          </button>
        </div>


      </div>

      <!-- Seguridad -->
      <div *ngIf="activeTab === 'security'" class="max-w-2xl">
        <div class="card mb-6">
          <h3 class="text-xl font-bold text-text mb-4 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" />
            </svg>
            Cambiar Contraseña
          </h3>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-text-light mb-1">Contraseña Actual</label>
              <input
                type="password"
                class="input-field"
                placeholder="Ingresa tu contraseña actual"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-text-light mb-1">Nueva Contraseña</label>
              <input
                type="password"
                class="input-field"
                placeholder="Ingresa tu nueva contraseña"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-text-light mb-1">Confirmar Nueva Contraseña</label>
              <input
                type="password"
                class="input-field"
                placeholder="Confirma tu nueva contraseña"
              />
            </div>
            <button class="btn btn-primary w-full">
              Actualizar Contraseña
            </button>
          </div>
        </div>

        <div class="card">
          <h3 class="text-xl font-bold text-text mb-4 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
            </svg>
            Seguridad de la Cuenta
          </h3>
          <div class="space-y-4">
            <div class="flex items-center justify-between p-4 bg-card-bg-light rounded-lg">
              <div>
                <h4 class="font-semibold text-text mb-1">Autenticación de dos factores</h4>
                <p class="text-sm text-text-light">Agrega una capa extra de seguridad a tu cuenta</p>
              </div>
              <button class="btn btn-primary">
                Activar
              </button>
            </div>
            <div class="flex items-center justify-between p-4 bg-card-bg-light rounded-lg">
              <div>
                <h4 class="font-semibold text-text mb-1">Sesiones Activas</h4>
                <p class="text-sm text-text-light">Administra los dispositivos donde tienes sesión iniciada</p>
              </div>
              <button class="btn btn-secondary">
                Ver Sesiones
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
